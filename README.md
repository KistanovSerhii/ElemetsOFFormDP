# ElemetsOfFormDynamicP
1С Elemets of Form with dynamic properties / Динамическая установка свойств элементам формы

Внедрение через внешнюю обработку:

#Область НовыеЗнчДляСвойствЭлементовФормы

Процедура НовыеЗнчДляСвойствЭлементовФормы()
    // Имена стандартных команд формы: ФормаЗаписатьИЗакрыть, ФормаЗаписать

	// Описание свойств +++
	свойстваЭлементовОбщее	= Новый Структура("Свойство,Значение", "Доступность", Ложь);
	свойстваЭлементов 		= Новый Массив;	
	свойстваЭлементов.Добавить(	Новый Структура("Имя,Свойство,Значение", "ФормаЗаписатьИЗакрыть", "Доступность", Истина) );
	свойстваЭлементов.Добавить(	Новый Структура("Имя,Свойство,Значение", "ГоловнаяОрганизация", "Доступность", Истина) );
	свойстваЭлементов.Добавить(	Новый Структура("Имя,Свойство,Значение", "ФИО", "ТолькоПросмотр", Истина) );
	// Описание свойств ---

	УстановитьПривилегированныйРежим(Истина);
	
	//Получаем ссылку на внешнюю обработку добавленную в "Дополнительные отчеты и обработки" +++
	внешняяОбработкаИмя    = "ДинамическоеСвойствоЭлементаФормы";
	внешняяОбработкаСсылка = Справочники.ДополнительныеОтчетыИОбработки.НайтиПоРеквизиту("ИмяОбъекта", внешняяОбработкаИмя);
	внешняяОбработкаОбъект = ДополнительныеОтчетыИОбработки.ОбъектВнешнейОбработки(внешняяОбработкаСсылка);
	// Получаем ссылку на внешнюю обработку добавленную в "Дополнительные отчеты и обработки" ---
	
	видыИТипы = внешняяОбработкаОбъект.НаборВидовИТиповЭлементовФормы();
	внешняяОбработкаОбъект.УстановитьСвойствоЭлементаФормы(ЭтаФорма, видыИТипы, свойстваЭлементов, свойстваЭлементовОбщее);
	
	УстановитьПривилегированныйРежим(Ложь);
	
КонецПроцедуры

#КонецОбласти


Например необходимо установить доступность выборочно элементов формы для текущего пользователя Тогда
как пример проверим входит текущий пользователь в группу доступа "РазрешитьРедактироватьРеквизитыСклад" и
установим данной внешней обработкой свойство доступность реквизиту "Склад" в соответствии с результатом проверки
вхождения текущего пользователя в группу доступа.


example.cfe - расширение содержит пример использования данной обработки для отказа записи и установки доступности = ложь
если пользователь не добавлен в профиль доступа.
